# v2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä»•æ§˜æ›¸

**å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.1.0 æ™‚ç‚¹
**æœ€çµ‚æ›´æ–°**: 2025-12-17
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… æ‰¿èªæ¸ˆã¿ï¼ˆã‚³ã‚¢ä»•æ§˜ï¼‰

---

## 1. æ¦‚è¦

### 1.1 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å…¨ä½“åƒ

v2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¯ã€è¤‡æ•°ã®é…ä¿¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆYouTubeã€ãƒ‹ã‚³ãƒ‹ã‚³ã€å°†æ¥çš„ã« Twitchï¼‰ã®å‹•ç”»ãƒ»é…ä¿¡æƒ…å ±ã‚’ **Jinja2 å½¢å¼**ã§æŠ•ç¨¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–ã§ãã¾ã™ã€‚

- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³**: Jinja2 2.11+
- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå½¢å¼**: `.txt` ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆUTF-8ï¼‰
- **å¤‰æ•°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: `{{ variable }}`ï¼ˆJinja2 æ¨™æº–å½¢å¼ï¼‰
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**: `datetimeformat`ï¼ˆæ—¥æ™‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰ãªã©
- **æ¡ä»¶åˆ†å²**: `{% if ... %}`ã€`{% for ... %}` å¯¾å¿œ

### 1.2 event_context ã®çµ±ä¸€æ§‹é€ 

ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€å…±é€šã® **event_context** è¾æ›¸ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã‚¤ãƒ™ãƒ³ãƒˆå›ºæœ‰ã®ã‚­ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚

**å…±é€šã‚­ãƒ¼ï¼ˆã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§åˆ©ç”¨å¯èƒ½ï¼‰:**

| ã‚­ãƒ¼ | å‹ | èª¬æ˜ | å‚™è€ƒ |
|:----|:---|:--|:-|
| `title` | `str` | å‹•ç”»ãƒ»é…ä¿¡ã‚¿ã‚¤ãƒˆãƒ« | å¿…é ˆ |
| `video_id` | `str` | å‹•ç”»IDï¼ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ï¼‰ | YouTube: `dQw4w9WgXcQ` ãªã© |
| `video_url` | `str` | å‹•ç”»ãƒ»é…ä¿¡ã®è¦–è´URL | ãƒ•ãƒ« URLï¼ˆä¾‹: `https://youtube.com/watch?v=...`ï¼‰|
| `channel_name` | `str` | ãƒãƒ£ãƒ³ãƒãƒ«ãƒ»é…ä¿¡è€…å | å¿…é ˆ |
| `published_at` | `str` | æŠ•ç¨¿ãƒ»é…ä¿¡é–‹å§‹æ—¥æ™‚ | ISO 8601 å½¢å¼ |
| `platform` | `str` | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å | `"YouTube"`, `"Niconico"` |
| `source` | `str` | ã‚½ãƒ¼ã‚¹ç¨®åˆ¥ | `"youtube"`, `"niconico"` ãªã© |
| `content_type` | `str` | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç¨®åˆ¥ | `"video"`, `"live"`, `"archive"`, `"none"` |
| `live_status` | `str \| None` | ãƒ©ã‚¤ãƒ–é…ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | `None`, `"upcoming"`, `"live"`, `"completed"` |

**âš ï¸ æ³¨æ„äº‹é …**:
- `content_type` ã¨ `live_status` ã¯ã€**database.py ã§è‡ªå‹•æ­£è¦åŒ–**ã•ã‚Œã¦ã„ã¾ã™ã€‚
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå´ã§ã¯ã€ã“ã‚Œã‚‰ã®å€¤ã‚’ä¿¡é ¼ã§ãã¾ã™ï¼ˆç„¡åŠ¹ãªå€¤ã¯åˆ°é”ã—ã¾ã›ã‚“ï¼‰ã€‚
- `live_status` ãŒ `None` ã®å ´åˆã¯ã€é€šå¸¸ã®å‹•ç”»æŠ•ç¨¿ï¼ˆ`content_type="video"`ï¼‰ã§ã™ã€‚

### 1.3 ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã¤ã„ã¦

**é‡è¦ãªæ³¨è¨˜**:
- v2 ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰ã¯ **`templates/.templates/default_template.txt`** ã‚’å‚ç…§ã—ã¾ã™ã€‚
- `template_utils.py` ã¯ `TEMPLATE_ROOT / ".templates" / "default_template.txt"` ã®ç›¸å¯¾ãƒ‘ã‚¹ã§ç›´æ¥å‚ç…§ã—ã¦ãŠã‚Šã€å®Ÿè¡Œæ™‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
- `Asset/templates/default/default_template.txt` ã¯ **é…å¸ƒç”¨ã®å…ƒã‚½ãƒ¼ã‚¹**ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚`AssetManager` ãŒåˆå›èµ·å‹•æ™‚ã‚„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°å…¥æ™‚ã«ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `v2/templates/.templates/` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹éš›ã®ã‚½ãƒ¼ã‚¹ã§ã™ã€‚
- ã¤ã¾ã‚Šã€Asset ãƒ•ã‚©ãƒ«ãƒ€ã¨å®Ÿè¡Œæ™‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯åˆ¥ç®¡ç†ã«ãªã£ã¦ã„ã¾ã™ã€‚

### 1.4 ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¨å‘½åè¦å‰‡

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã§ç®¡ç†ã•ã‚Œã¾ã™ï¼š

```
v2/
â”œâ”€â”€ templates/                                    # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”œâ”€â”€ youtube/                                  # YouTube ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ yt_new_video_template.txt            # æ–°ç€å‹•ç”»æŠ•ç¨¿ç”¨
â”‚   â”‚   â”œâ”€â”€ yt_online_template.txt               # é…ä¿¡é–‹å§‹ï¼ˆå°†æ¥ï¼‰
â”‚   â”‚   â””â”€â”€ yt_offline_template.txt              # é…ä¿¡çµ‚äº†ï¼ˆå°†æ¥ï¼‰
â”‚   â”œâ”€â”€ niconico/                                 # ãƒ‹ã‚³ãƒ‹ã‚³ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â””â”€â”€ nico_new_video_template.txt          # æ–°ç€å‹•ç”»æŠ•ç¨¿ç”¨
â”‚   â””â”€â”€ .templates/                               # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ/ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨
â”‚       â”œâ”€â”€ default_template.txt                 # å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å…±é€šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
â”‚       â””â”€â”€ fallback_template.txt                # ã‚¨ãƒ©ãƒ¼æ™‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
â””â”€â”€ settings.env                                  # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¹ç’°å¢ƒå¤‰æ•°
```

**å‘½åè¦å‰‡**:
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `{service}_{event_type}_template.txt`
  - `{service}`: `yt`(YouTube), `nico`(ãƒ‹ã‚³ãƒ‹ã‚³), `twitch`(Twitch)
  - `{event_type}`: `new_video`, `online`, `offline`
- ä¾‹: `yt_new_video_template.txt`, `nico_new_video_template.txt`

---

## 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®ãƒãƒªã‚·ãƒ¼

### 2.1 3 ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²

v2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒ 3 ã¤ã®éšå±¤ã«åˆ†ã‹ã‚Œã¦ã„ã¾ã™ï¼š

| å±¤ | ãƒ‘ã‚¹ | å½¹å‰² | ç®¡ç†è€… | ç”¨é€” |
|:--|:--|:--|:--|:--|
| **é…å¸ƒã‚½ãƒ¼ã‚¹** | `Asset/templates/default/default_template.txt` | é…å¸ƒç”¨ã®å…ƒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ãƒªãƒã‚¸ãƒˆãƒªä¿å®ˆè€… | åˆå›é…ç½®ãƒ»æ›´æ–°é…å¸ƒç”¨ |
| **ã‚µãƒ¼ãƒ“ã‚¹åˆ¥å®Ÿè¡Œæ™‚** | `templates/{service}/` (e.g., `templates/youtube/`) | å®Ÿè¡Œæ™‚ã«ä½¿ç”¨ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆç·¨é›†å¯èƒ½ï¼‰ | YouTube/ãƒ‹ã‚³ãƒ‹ã‚³ãªã©åˆ¥ã®æŠ•ç¨¿å½¢å¼ |
| **å…¨ã‚µãƒ¼ãƒ“ã‚¹å…±é€šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯** | `templates/.templates/default_template.txt` | å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å…±é€šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ã‚³ãƒ¼ãƒ‰å´ã§ç›´æ¥å‚ç…§ | ã‚¨ãƒ©ãƒ¼æ™‚ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼æœªè¨­å®šæ™‚ |

### 2.2 ã‚³ãƒ¼ãƒ‰ä¸Šã§ã®å‚ç…§æ§‹é€ 

**template_utils.py ã«ãŠã‘ã‚‹ç›¸å¯¾ãƒ‘ã‚¹è¨­å®š**:

```python
TEMPLATE_ROOT = Path(__file__).parent / "templates"
DEFAULT_TEMPLATE_DIR = TEMPLATE_ROOT / ".templates"
DEFAULT_TEMPLATE_PATH = DEFAULT_TEMPLATE_DIR / "default_template.txt"
```

ã“ã‚Œã«ã‚ˆã‚Šã€`template_utils.py` ã¯ä»¥ä¸‹ã®ãƒ­ã‚¸ãƒƒã‚¯ã§å‹•ä½œã—ã¾ã™ï¼š

1. **é€šå¸¸æ™‚**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¹ï¼ˆ`templates/youtube/yt_new_video_template.txt` ãªã©ï¼‰ã‚’ä½¿ç”¨
2. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ™‚**: `templates/.templates/default_template.txt` ã«è‡ªå‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆ
3. **ã‚³ãƒ¼ãƒ‰å´å‚ç…§**: Asset ãƒ•ã‚©ãƒ«ãƒ€ã¨ã¯ç„¡é–¢ä¿‚ã«ã€`templates/.templates/` ã‚’ç›´æ¥å‚ç…§

### 2.3 AssetManager ã«ã‚ˆã‚‹é…ç½®ãƒ•ãƒ­ãƒ¼

**å›³: AssetManager åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼**

```
èµ·å‹•æ™‚ (main_v2.py)
   â†“
AssetManager ãŒåˆæœŸåŒ–
   â†“
Asset/templates/default/default_template.txt ã‚’æ¤œå‡º
   â†“
templates/.templates/default_template.txt ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
   â†“ (å­˜åœ¨ã—ãªã„å ´åˆ)
Asset/templates/default/default_template.txt ã‚’
templates/.templates/default_template.txt ã¸ã‚³ãƒ”ãƒ¼
   â†“
âœ… é…ç½®å®Œäº†
```

**é‡è¦**: Asset ãƒ•ã‚©ãƒ«ãƒ€ã¨å®Ÿè¡Œæ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ç‹¬ç«‹ã—ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªç‰¹æ€§ãŒã‚ã‚Šã¾ã™ï¼š

- **Asset**: ã‚½ãƒ¼ã‚¹ç®¡ç†ï¼ˆGit ã§ç®¡ç†ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç›´æ¥ç·¨é›†ã—ãªã„ï¼‰
- **templates/**: å®Ÿè¡Œæ™‚ç”¨ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ GUI ã§ç·¨é›†å¯èƒ½ï¼‰
- **.templates/**: å…±é€šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆã‚³ãƒ¼ãƒ‰å´ã§ç›´æ¥å‚ç…§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ„è­˜ã™ã‚‹å¿…è¦ã¯ãªã„ï¼‰

### 2.4 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã®å…¨ä½“åƒ

```
v2/
â”œâ”€â”€ Asset/                                          # é…å¸ƒç”¨ã‚½ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ default/
â”‚   â”‚   â”‚   â””â”€â”€ default_template.txt               # â† é…å¸ƒç”¨ã®å…ƒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ youtube/
â”‚   â”‚   â””â”€â”€ niconico/
â”‚   â””â”€â”€ images/
â”‚
â”œâ”€â”€ templates/                                      # å®Ÿè¡Œæ™‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”œâ”€â”€ youtube/                                   # â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç·¨é›†ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ yt_new_video_template.txt
â”‚   â”‚   â”œâ”€â”€ yt_online_template.txt
â”‚   â”‚   â””â”€â”€ yt_offline_template.txt
â”‚   â”œâ”€â”€ niconico/
â”‚   â”‚   â””â”€â”€ nico_new_video_template.txt
â”‚   â”œâ”€â”€ twitch/                                    # ï¼ˆå°†æ¥å®Ÿè£…äºˆå®šï¼‰
â”‚   â”‚   â”œâ”€â”€ twitch_online_template.txt
â”‚   â”‚   â”œâ”€â”€ twitch_offline_template.txt
â”‚   â”‚   â””â”€â”€ twitch_raid_template.txt
â”‚   â””â”€â”€ .templates/                                # â† å…±é€šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å°‚ç”¨
â”‚       â””â”€â”€ default_template.txt                  # â† å…¨ã‚µãƒ¼ãƒ“ã‚¹å…±é€šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
â”‚
â””â”€â”€ asset_manager.py                               # â† Asset ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã®ã‚³ãƒ”ãƒ¼å‡¦ç†
```

### 2.5 æ›´æ–°ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ‘ã‚¿ãƒ¼ãƒ³

**ãƒ‘ã‚¿ãƒ¼ãƒ³ 1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿ä½¿ç”¨ï¼ˆæ¨å¥¨åˆæœŸçŠ¶æ…‹ï¼‰**

1. `templates/.templates/default_template.txt` ãŒè‡ªå‹•é…ç½®ã•ã‚Œã‚‹
2. ã‚³ãƒ¼ãƒ‰å´ã§ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦ä½¿ç”¨
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç·¨é›†ã®å¿…è¦ã¯ãªã„

**ãƒ‘ã‚¿ãƒ¼ãƒ³ 2: YouTube ç”¨ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ `templates/youtube/yt_new_video_template.txt` ã‚’ä½œæˆãƒ»ç·¨é›†
2. `template_utils.py` ãŒ `templates/youtube/` é…ä¸‹ã‚’å„ªå…ˆçš„ã«å‚ç…§
3. Asset ãƒ•ã‚©ãƒ«ãƒ€ã¨ã¯ç„¡é–¢ä¿‚ã«å‹•ä½œ

**ãƒ‘ã‚¿ãƒ¼ãƒ³ 3: ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã«ã‚ˆã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ›´æ–°**

1. ãƒªãƒã‚¸ãƒˆãƒªãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ãŒ `Asset/templates/default/default_template.txt` ã‚’æ›´æ–°
2. æ¬¡å›èµ·å‹•æ™‚ã« `AssetManager` ãŒæ¤œå‡º
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‰Šé™¤ã‚’è¨±å¯ã—ãŸå ´åˆã®ã¿æ–°ç‰ˆãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ï¼ˆé€šå¸¸ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰

---

## 3. YouTube é–¢é€£ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### 3.1 æ–°ç€å‹•ç”»æŠ•ç¨¿ï¼ˆyt_new_videoï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `templates/youtube/yt_new_video_template.txt`
**ã‚¤ãƒ™ãƒ³ãƒˆ**: RSS å–å¾—ã«ã‚ˆã‚‹æ–°ç€å‹•ç”»ã®æŠ•ç¨¿
**çŠ¶æ…‹**: âœ… v2.1.0 ã§å®Ÿè£…æ¸ˆã¿

#### åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°

| å¤‰æ•° | å‹ | èª¬æ˜ | ä¾‹ |
|:--|:--|:--|:-|
| `title` | `str` | å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ« | `"æ–°ä½œã‚²ãƒ¼ãƒ å®Ÿæ³ã€part 1ã€‘"` |
| `video_id` | `str` | YouTube å‹•ç”» ID | `"dQw4w9WgXcQ"` |
| `video_url` | `str` | å‹•ç”» URL | `"https://www.youtube.com/watch?v=dQw4w9WgXcQ"` |
| `channel_name` | `str` | ãƒãƒ£ãƒ³ãƒãƒ«å | `"ã€‡ã€‡ãƒãƒ£ãƒ³ãƒãƒ«"` |
| `published_at` | `str` | æŠ•ç¨¿æ—¥æ™‚ï¼ˆISO 8601ï¼‰ | `"2025-12-17T15:30:00Z"` |
| `platform` | `str` | `"YouTube"` å›ºå®š | `"YouTube"` |
| `source` | `str` | `"youtube"` å›ºå®š | `"youtube"` |
| `content_type` | `str` | `"video"` å›ºå®š | `"video"` |
| `live_status` | `str \| None` | é€šå¸¸ `None` | `None` |

#### å¿…é ˆã‚­ãƒ¼ï¼ˆrequired_keysï¼‰

```python
["title", "video_id", "video_url", "channel_name"]
```

#### ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```jinja2
ğŸ¬ æ–°ä½œå‹•ç”»ã®ãŠçŸ¥ã‚‰ã›

{{ channel_name }} ãŒYouTubeã«æ–°ã—ã„å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸï¼

ğŸ“¹ {{ title }}

è¦–è´ã¯ã“ã¡ã‚‰: {{ video_url }}

#YouTube #æ–°ç€å‹•ç”»
```

#### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾‹ï¼ˆwith ã‚µãƒ³ãƒ—ãƒ« event_contextï¼‰

```
ğŸ¬ æ–°ä½œå‹•ç”»ã®ãŠçŸ¥ã‚‰ã›

ã€‡ã€‡ãƒãƒ£ãƒ³ãƒãƒ« ãŒYouTubeã«æ–°ã—ã„å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸï¼

ğŸ“¹ æ–°ä½œã‚²ãƒ¼ãƒ å®Ÿæ³ã€part 1ã€‘

è¦–è´ã¯ã“ã¡ã‚‰: https://www.youtube.com/watch?v=dQw4w9WgXcQ

#YouTube #æ–°ç€å‹•ç”»
```

#### é«˜åº¦ãªä¾‹ï¼ˆæ¡ä»¶åˆ†å²ãƒ»æ—¥æ™‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»˜ãï¼‰

```jinja2
ğŸ¬ æ–°ä½œå‹•ç”»æŠ•ç¨¿

{{ channel_name }}
ãƒ†ãƒ¼ãƒ: {{ title }}

ğŸ“º {{ video_url }}

æŠ•ç¨¿æ™‚åˆ»: {{ published_at | datetimeformat('%Yå¹´%mæœˆ%dæ—¥ %H:%M') }}

{% if "ã‚²ãƒ¼ãƒ " in title %}
ğŸ® ã‚²ãƒ¼ãƒ å®Ÿæ³å‹•ç”»ã§ã™ï¼
{% endif %}

#YouTube
```

---

### 2.2 é…ä¿¡é–‹å§‹é€šçŸ¥ï¼ˆyt_onlineï¼‰ âš ï¸ å°†æ¥å®Ÿè£…äºˆå®š

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `templates/youtube/yt_online_template.txt`
**ã‚¤ãƒ™ãƒ³ãƒˆ**: YouTube Live é…ä¿¡é–‹å§‹æ™‚ã®é€šçŸ¥
**çŠ¶æ…‹**: âš ï¸ v2.1.0 ã§ã¯**æœªå®Ÿè£…**ï¼ˆv2.x/v3 äºˆå®šï¼‰
**ç†ç”±**: youtube_live_plugin.py ãŒãƒ©ã‚¤ãƒ–é…ä¿¡æ¤œçŸ¥ãƒ­ã‚¸ãƒƒã‚¯æœªå®Ÿè£…

#### åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°ï¼ˆå®Ÿè£…æ™‚ã®äºˆå®šï¼‰

| å¤‰æ•° | å‹ | èª¬æ˜ |
|:--|:--|:--|
| `title` | `str` | é…ä¿¡ã‚¿ã‚¤ãƒˆãƒ« |
| `video_url` | `str` | é…ä¿¡ URL |
| `channel_name` | `str` | ãƒãƒ£ãƒ³ãƒãƒ«å |
| `published_at` | `str` | é…ä¿¡é–‹å§‹æ—¥æ™‚ï¼ˆISO 8601ï¼‰ |
| `content_type` | `str` | `"live"` å›ºå®š |
| `live_status` | `str` | `"live"` |

#### å¿…é ˆã‚­ãƒ¼ï¼ˆå®Ÿè£…æ™‚ã®äºˆå®šï¼‰

```python
["title", "video_url", "channel_name", "live_status"]
```

#### ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå‚è€ƒï¼‰

```jinja2
ğŸ”´ é…ä¿¡é–‹å§‹ï¼

{{ channel_name }} ãŒ YouTube Live ã§é…ä¿¡ã‚’é–‹å§‹ã—ã¾ã—ãŸï¼

ğŸ“º {{ title }}

è¦–è´: {{ video_url }}

#YouTubeLive #é…ä¿¡é–‹å§‹
```

---

### 2.3 é…ä¿¡çµ‚äº†é€šçŸ¥ï¼ˆyt_offlineï¼‰ âš ï¸ å°†æ¥å®Ÿè£…äºˆå®š

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `templates/youtube/yt_offline_template.txt`
**ã‚¤ãƒ™ãƒ³ãƒˆ**: YouTube Live é…ä¿¡çµ‚äº†æ™‚ã®é€šçŸ¥
**çŠ¶æ…‹**: âš ï¸ v2.1.0 ã§ã¯**æœªå®Ÿè£…**ï¼ˆv2.x/v3 äºˆå®šï¼‰

#### åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°ï¼ˆå®Ÿè£…æ™‚ã®äºˆå®šï¼‰

| å¤‰æ•° | å‹ | èª¬æ˜ |
|:--|:--|:--|
| `title` | `str` | é…ä¿¡ã‚¿ã‚¤ãƒˆãƒ« |
| `channel_name` | `str` | ãƒãƒ£ãƒ³ãƒãƒ«å |
| `live_status` | `str` | `"completed"` å›ºå®š |
| `published_at` | `str` | é…ä¿¡é–‹å§‹æ—¥æ™‚ |

#### ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå‚è€ƒï¼‰

```jinja2
ğŸ›‘ é…ä¿¡çµ‚äº†

{{ channel_name }} ã®é…ä¿¡ãŒçµ‚ã‚ã‚Šã¾ã—ãŸã€‚

ã”è¦–è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼

#YouTubeLive
```

---

## 3. ãƒ‹ã‚³ãƒ‹ã‚³é–¢é€£ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### 3.1 æ–°ç€å‹•ç”»æŠ•ç¨¿ï¼ˆnico_new_videoï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**: `templates/niconico/nico_new_video_template.txt`
**ã‚¤ãƒ™ãƒ³ãƒˆ**: ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”» RSS å–å¾—ã«ã‚ˆã‚‹æ–°ç€å‹•ç”»æŠ•ç¨¿
**çŠ¶æ…‹**: ğŸ“‹ è¨­è¨ˆä¸­ï¼ˆv2.x å®Ÿè£…äºˆå®šï¼‰

#### åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°

| å¤‰æ•° | å‹ | èª¬æ˜ | ä¾‹ |
|:--|:--|:--|:-|
| `title` | `str` | å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ« | `"ã€ã‚†ã£ãã‚Šè§£èª¬ã€‘æœ€æ–°ã‚²ãƒ¼ãƒ "` |
| `video_id` | `str` | ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”» ID | `"sm12345678"` |
| `video_url` | `str` | å‹•ç”» URL | `"https://www.nicovideo.jp/watch/sm12345678"` |
| `channel_name` | `str` | æŠ•ç¨¿è€…å | `"æŠ•ç¨¿è€…å"` |
| `published_at` | `str` | æŠ•ç¨¿æ—¥æ™‚ï¼ˆISO 8601ï¼‰ | `"2025-12-17T10:00:00Z"` |
| `platform` | `str` | `"Niconico"` å›ºå®š | `"Niconico"` |
| `source` | `str` | `"niconico"` å›ºå®š | `"niconico"` |
| `content_type` | `str` | `"video"` å›ºå®š | `"video"` |
| `live_status` | `str \| None` | é€šå¸¸ `None` | `None` |

#### å¿…é ˆã‚­ãƒ¼ï¼ˆrequired_keysï¼‰

```python
["title", "video_id", "video_url", "channel_name"]
```

#### ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```jinja2
ğŸ¥ ãƒ‹ã‚³ãƒ‹ã‚³æ–°ç€å‹•ç”»

æŠ•ç¨¿è€…: {{ channel_name }}
ã‚¿ã‚¤ãƒˆãƒ«: {{ title }}

è¦–è´: {{ video_url }}

#ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”» #æ–°ç€
```

---

## 4. Twitch é–¢é€£ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå°†æ¥äºˆå®šï¼‰

âš ï¸ **Twitch ã‚µãƒãƒ¼ãƒˆã¯ v3+ ã®äºˆå®šã§ã™ã€‚v2.1.0 ã§ã¯å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚**

### 4.1 é…ä¿¡é–‹å§‹é€šçŸ¥ï¼ˆtwitch_onlineï¼‰

**äºˆå®š**: PubSubHubbub + Webhook ã«ã‚ˆã‚‹é…ä¿¡é–‹å§‹æ¤œçŸ¥

#### åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°ï¼ˆå®Ÿè£…æ™‚ã®äºˆå®šï¼‰

| å¤‰æ•° | èª¬æ˜ |
|:--|:--|
| `broadcaster_user_name` | é…ä¿¡è€…è¡¨ç¤ºå |
| `broadcaster_user_login` | é…ä¿¡è€…ãƒ­ã‚°ã‚¤ãƒ³å |
| `title` | é…ä¿¡ã‚¿ã‚¤ãƒˆãƒ« |
| `game_name` | ã‚²ãƒ¼ãƒ å |
| `stream_url` | é…ä¿¡ URL |
| `started_at` | é…ä¿¡é–‹å§‹æ—¥æ™‚ |

---

## 5. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ã®æ¨™æº–å½¢å¼

### 5.1 Jinja2 åŸºæœ¬å½¢å¼

**å¤‰æ•°å±•é–‹:**
```jinja2
{{ variable }}
{{ variable | default('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤') }}
```

**ä¾‹:**
```jinja2
ãƒãƒ£ãƒ³ãƒãƒ«: {{ channel_name | default('ãƒãƒ£ãƒ³ãƒãƒ«åä¸æ˜') }}
```

### 5.2 ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¯¾å¿œ

**datetimeformat ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:**
```jinja2
{{ published_at | datetimeformat('%Yå¹´%mæœˆ%dæ—¥ %H:%M:%S') }}
```

**å‡ºåŠ›ä¾‹:**
```
2025å¹´12æœˆ17æ—¥ 15:30:45
```

**ãã®ä»–ã® Jinja2 æ¨™æº–ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:**
- `upper`, `lower`: å¤§æ–‡å­—ãƒ»å°æ–‡å­—å¤‰æ›
- `length`: æ–‡å­—åˆ—é•·
- `default`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤æŒ‡å®š
- `int`, `float`: å‹å¤‰æ›

---

### 5.3 æ¡ä»¶åˆ†å²

**IF ãƒ–ãƒ­ãƒƒã‚¯:**
```jinja2
{% if "ã‚²ãƒ¼ãƒ " in title %}
ğŸ® ã‚²ãƒ¼ãƒ é–¢é€£å‹•ç”»ã§ã™ï¼
{% elif "éŸ³æ¥½" in title %}
ğŸµ éŸ³æ¥½å‹•ç”»ã§ã™ï¼
{% else %}
ğŸ“¹ ãã®ä»–ã®å‹•ç”»ã§ã™
{% endif %}
```

**è«–ç†æ¼”ç®—å­:**
```jinja2
{% if content_type == "live" and live_status == "live" %}
ğŸ”´ ç¾åœ¨é…ä¿¡ä¸­ã§ã™ï¼
{% endif %}
```

---

### 5.4 ãƒ«ãƒ¼ãƒ—å‡¦ç†

**FOR ãƒ–ãƒ­ãƒƒã‚¯:**
```jinja2
{% for tag in tags %}
#{{ tag }}
{% endfor %}
```

---

## 6. ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆå¤‰æ•°

### 6.1 TEMPLATE_VAR_BLACKLIST ã®æ¦‚å¿µ

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¦‹ã›ãŸããªã„å†…éƒ¨ã‚­ãƒ¼ã‚’å®šç¾©ã—ã¾ã™ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã¯ã€ã“ã‚Œã‚‰ã®å¤‰æ•°ã¯ãƒœã‚¿ãƒ³ã«è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆ:**

```python
TEMPLATE_VAR_BLACKLIST = {
    "youtube_new_video": {
        "is_premiere",           # ãƒ—ãƒ¬ãƒŸã‚¢åˆ¤å®šãƒ•ãƒ©ã‚°ï¼ˆå†…éƒ¨ç”¨ï¼‰
        "image_mode",            # ç”»åƒãƒ¢ãƒ¼ãƒ‰ï¼ˆå†…éƒ¨ç”¨ï¼‰
        "image_filename",        # ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¸ˆã¿ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆå†…éƒ¨ç”¨ï¼‰
        "posted_at",             # æŠ•ç¨¿æ—¥æ™‚ï¼ˆDB ç”¨ï¼‰
        "selected_for_post",     # é¸æŠãƒ•ãƒ©ã‚°ï¼ˆDB ç”¨ï¼‰
        "use_link_card",         # ãƒªãƒ³ã‚¯ã‚«ãƒ¼ãƒ‰ä½¿ç”¨ãƒ•ãƒ©ã‚°ï¼ˆå†…éƒ¨ç”¨ï¼‰
        "embed",                 # åŸ‹ã‚è¾¼ã¿ objectï¼ˆå†…éƒ¨ç”¨ï¼‰
    },
    "nico_new_video": {
        "image_mode",
        "image_filename",
        "posted_at",
        "use_link_card",
        "embed",
    },
    # ... etc
}
```

---

## 7. Vanilla ç’°å¢ƒã§ã®æ³¨æ„äº‹é …

### 7.1 ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç„¡åŠ¹æ™‚ã®å‹•ä½œ

**Vanilla ç‰ˆã§ã¯ã€Bluesky ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç„¡åŠ¹ã«ãªã‚‹ãŸã‚ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‡¦ç†ã‚‚å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚**

| é …ç›® | Bluesky ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æœ‰åŠ¹æ™‚ | Bluesky ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç„¡åŠ¹æ™‚ |
|:----|:--|:--|
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | âœ… èª­ã¿è¾¼ã¿ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | âŒ èª­ã¿è¾¼ã¾ã‚Œãªã„ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä»•æ§˜ | âœ… é©ç”¨ | âŒ ç„¡è¦– |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | âœ… åˆ©ç”¨å¯èƒ½ï¼ˆGUIï¼‰ | âŒ åˆ©ç”¨ä¸å¯ |
| æŠ•ç¨¿ãƒ†ã‚­ã‚¹ãƒˆ | Jinja2 ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¾Œ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ |

### 7.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å‘¨çŸ¥

- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›† UI ã¯ã€Œæ©Ÿèƒ½ã¨ã—ã¦ã¯å‚™ã‚ã£ã¦ã„ã‚‹ãŒã€å®Ÿè¡Œã•ã‚Œãªã„ã€ã¨ã„ã†è¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚
- å°†æ¥çš„ã« Bluesky ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¯¾å¿œç‰ˆã‚’å°å…¥ã™ã‚‹éš›ã«ã€ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä»•æ§˜ãŒæ´»ã‹ã•ã‚Œã¾ã™ã€‚

---

## 8. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä¾‹

### 8.1 YouTube æ–°ç€å‹•ç”» - ã‚·ãƒ³ãƒ—ãƒ«ä¾‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `templates/youtube/yt_new_video_template.txt`

```jinja2
ğŸ¬ æ–°ä½œå‹•ç”»

{{ channel_name }} ãŒ YouTube ã«æ–°ã—ã„å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼

{{ title }}

{{ video_url }}

#YouTube
```

### 8.2 YouTube æ–°ç€å‹•ç”» - é«˜åº¦ãªä¾‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `templates/youtube/yt_new_video_template_advanced.txt`

```jinja2
ğŸ¬ {{ channel_name }} ã®æ–°ä½œå‹•ç”»

ğŸ“¹ ã‚¿ã‚¤ãƒˆãƒ«: {{ title }}

ğŸ’¬ æ¦‚è¦:
ã“ã®å‹•ç”»ã¯ {{ platform }} ã«æŠ•ç¨¿ã•ã‚Œã¾ã—ãŸã€‚

ğŸ“º è¦–è´: {{ video_url }}

æŠ•ç¨¿æ—¥æ™‚: {{ published_at | datetimeformat('%Yå¹´%mæœˆ%dæ—¥') }}

{% if "å®Ÿæ³" in title or "gameplay" in title.lower() %}
ğŸ® ã‚²ãƒ¼ãƒ å®Ÿæ³ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ï¼
{% endif %}

---
Subscribe & Notification ON!
#YouTube #æ–°ç€å‹•ç”» #{{ channel_name }}
```

### 8.3 ãƒ‹ã‚³ãƒ‹ã‚³æ–°ç€å‹•ç”»ä¾‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `templates/niconico/nico_new_video_template.txt`

```jinja2
ğŸ¥ ãƒ‹ã‚³ãƒ‹ã‚³æ–°ç€

æŠ•ç¨¿è€…: {{ channel_name }}

{{ title }}

{{ video_url }}

#ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»
```

---

## 9. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 9.1 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ãŒèªè­˜ã•ã‚Œãªã„

**åŸå› **: event_context ã«å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹

**è§£æ±ºç­–**:
1. ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã€å¯¾è±¡ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç¨®åˆ¥ã®ã€Œåˆ©ç”¨å¯èƒ½ãªå¤‰æ•°ã€ã‚’ç¢ºèª
2. æ­£ç¢ºãªã‚­ãƒ¼åã‚’ä½¿ç”¨ï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ï¼‰
3. ä¸è¶³ã‚­ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ã€template_utils.py ã® `validate_required_keys()` ã§æ¤œå‡º

### 9.2 æ—¥æ™‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: `datetimeformat` ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ–‡å­—åˆ—ãŒ incorrect

**è§£æ±ºç­–**:
```jinja2
âœ… æ­£: {{ published_at | datetimeformat('%Yå¹´%mæœˆ%dæ—¥ %H:%M') }}
âŒ èª¤: {{ published_at | datetimeformat('%Y/%m/%d') }}  # åŒºåˆ‡ã‚Šæ–‡å­—ã¯ä»»æ„
```

Python `strftime()` å½¢å¼ã«æº–æ‹ : https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes

### 9.3 æ¡ä»¶åˆ†å²ãŒå‹•ä½œã—ãªã„

**åŸå› **: å¤‰æ•°å€¤ã®å‹ã‚„å€¤ãŒæƒ³å®šã¨ç•°ãªã‚‹

**è§£æ±ºç­–**:
```jinja2
âœ… æ­£: {% if content_type == "video" %}
âŒ èª¤: {% if content_type = "video" %}  # = ã§ã¯ãªã ==

âœ… æ­£: {% if "ã‚²ãƒ¼ãƒ " in title %}
âŒ èª¤: {% if "ã‚²ãƒ¼ãƒ " in title.lower() %}  # .lower() ã§å°æ–‡å­—åŒ–ã—ã¦ã‹ã‚‰æ¯”è¼ƒ
```

---

## 10. å‚è€ƒè³‡æ–™

- **Jinja2 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://jinja.palletsprojects.com/
- **v2 ãƒ‡ã‚¶ã‚¤ãƒ³æ–¹é‡**: [v2_DESIGN_POLICY.md](v2_DESIGN_POLICY.md)
- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‡¦ç†å®Ÿè£…**: [template_utils.py](../template_utils.py)ï¼ˆå®Ÿè£…äºˆå®šï¼‰
- **GUI ã‚¨ãƒ‡ã‚£ã‚¿**: [template_editor_dialog.py](../template_editor_dialog.py)ï¼ˆå®Ÿè£…äºˆå®šï¼‰
- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³çµ±åˆ**: [bluesky_plugin.py](../plugins/bluesky_plugin.py)

---

## æ›´æ–°å±¥æ­´

| æ—¥æ™‚ | å¤‰æ›´å†…å®¹ | æ‹…å½“ |
|:-|:--|:--|
| 2025-12-17 | åˆç‰ˆä½œæˆï¼ˆv2.1.0 å¯¾å¿œï¼‰ | Copilot |

---

**è‘—ä½œæ¨©**: Copyright (C) 2025 mayuneco(mayunya)
**ãƒ©ã‚¤ã‚»ãƒ³ã‚¹**: GPLv2
**å¯¾å¿œ Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.8+
