# StreamNotify on Bluesky - バージョン選択ガイド

**作成日**: 2026-01-07
**最終更新**: 2026-01-07
**対象バージョン**: v2.3.0 / v2.4.0 / v3.3.3

---

## 📌 かんたん判断フロー

```
あなたは YouTube Live を使いますか？
├─ はい → v3 を推奨 ✅
├─ いいえ ↓

複雑なフィルタリング・スケジュール投稿が必要ですか？
├─ はい → v3 を推奨 ✅
├─ いいえ ↓

シンプルな YouTube RSS 監視のみで十分ですか？
├─ はい → v2 でも OK（またはアップグレードを検討） ⚙️
└─ いいえ → v3 を推奨 ✅
```

---

## 🎯 バージョン選択の基準

### v3（推奨版）を選ぶべき人

**このいずれかに当てはまれば v3 がおすすめです:**

| 項目 | 詳細 |
|------|------|
| ✅ **YouTube Live をよく使う** | 配信の自動検出・投稿をしたい |
| ✅ **複数動画を時間差投稿したい** | スケジュール投稿機能を使いたい |
| ✅ **細かくフィルタリングしたい** | チャンネル別・状態別など複合条件で絞り込みたい |
| ✅ **統計情報を見たい** | 投稿数・チャンネル別集計などを可視化したい |
| ✅ **設定を GUI で管理したい** | `settings.env` ファイルを直接編集したくない |
| ✅ **バックアップ・復元を使いたい** | DB をエクスポート・インポートしたい |
| ✅ **ニコニコ動画にも対応したい** | YouTube 以外のプラットフォームも監視したい |
| ✅ **最新の機能を試したい** | 常に新機能を体験したい |

**版番**: **v3.3.3 以上（現在推奨）**

---

### v2（安定版）を選ぶべき人

**以下の条件を **すべて** 満たせば v2 でも大丈夫です:**

| 項目 | 詳細 |
|------|------|
| ✅ **YouTube RSS 監視のみで十分** | 新着動画検出だけあれば OK |
| ✅ **YouTube Live は不要（またはベータ版で OK）** | スケジュール投稿は使わない |
| ✅ **設定ファイルは手動で編集できる** | `settings.env` の編集に慣れている |
| ✅ **GUI の統計情報がなくても構わない** | 基本的な一覧表示で足りる |
| ✅ **シンプルな運用を希望** | 環境構築・更新を最小限にしたい |

**版番**: **v2.3.0（現在）** または **v2.4.0（検討中）**

---

## 📊 機能比較表

### コア機能

| 機能 | v2.3.0 | v2.4.0（予定） | v3.3.3 | 推奨 |
|------|--------|--------|--------|------|
| YouTube RSS 監視 | ✅ | ✅ | ✅ | 両者同等 |
| Bluesky 投稿 | ✅ | ✅ | ✅ | 両者同等 |
| ニコニコ動画対応 | ✅ | ✅ | ✅ | 両者同等 |
| **YouTube Live（ベータ）** | ⚠️ | ⚠️ | ✅ 本実装 | **v3 推奨** |
| **スケジュール投稿** | ❌ | ❌ | ✅ | **v3 推奨** |
| **複合フィルタリング** | 基本的 | 基本的 | ✅ 高度 | **v3 推奨** |
| **統計・グラフ表示** | なし | なし | ✅ | **v3 推奨** |
| **設定 GUI 管理** | ❌ | ❌ | ✅ | **v3 推奨** |
| **バックアップ機能** | ❌ | ❌ | ✅ | **v3 推奨** |
| **設定同期（Config Sync）** | ❌ | ✅ 新機能 | ✅ | **v2.4.0 / v3 ⬆️** |

---

## 🔴 v2 での YouTube Live（ベータ版）について

v2 でも YouTube Live 機能は **利用可能** ですが、ベータ版です。以下を理解したうえで使用してください：

### v2 YouTube Live の現状

| 項目 | 状況 |
|------|------|
| **実装** | ✅ 完了（`youtube_live_plugin.py`） |
| **安定性** | ⚠️ ベータ版・改善の余地あり |
| **API キー必須** | ✅ YouTube Data API キーが必須 |
| **検出精度** | ⚠️ v3 より劣る可能性あり |
| **スケジュール** | ❌ 時刻指定投稿は不可 |
| **投稿タイミング** | Live 検出直後に即投稿 |

### v2 での使用上の注意

1. **YouTube API キーが必須**
   - `YOUTUBE_API_KEY` 環境変数を設定必須
   - Google Cloud Console で API キー取得が必要

2. **API クォータに注意**
   - 1日あたり 10,000 ユニット制限
   - ポーリング間隔の設定が重要
   - 頻繁にポーリングするとクォータ超過の可能性

3. **プラグイン導入が必須**
   - `youtube_live_plugin.py` が有効でないと動作しない
   - プラグイン設定が必要

4. **検出に遅延あり**
   - 配信開始直後の検出に数分～10数分の遅延あり
   - リアルタイム性を求める場合は v3 推奨

### v3 での改善内容

v3 では以下の改善が行われています：

- ✅ **複数判定方法の並行実行** → 検出精度向上
- ✅ **キャッシング・ポーリング最適化** → API クォータ節約
- ✅ **スケジュール投稿対応** → 時刻指定で投稿可能
- ✅ **コア機能化** → プラグイン導入不要
- ✅ **詳細な状態遷移追跡** → scheduled → live → archive を正確に判定

---

## 🚀 ユースケース別推奨バージョン

### ユースケース 1：YouTube RSS のシンプル監視

**想定**: 新着動画を投稿するだけで OK、YouTube Live は使わない

```
推奨: v2.3.0（またはアップグレードして v2.4.0）
理由:
  - 基本機能で十分
  - 環境構築・保守がシンプル
  - 本番環境では安定性重視
```

---

### ユースケース 2：YouTube Live を積極的に活用

**想定**: 配信の自動検出・投稿、スケジュール投稿も使いたい

```
推奨: v3.3.3（現在のメイン推奨版）
理由:
  - YouTube Live が本実装されている
  - スケジュール投稿機能で配信時間を指定可能
  - API クォータ管理が最適化されている
  - 検出精度が高い
```

---

### ユースケース 3：複合フィルタリング・統計表示を使いたい

**想定**: チャンネル別・動画タイプ別のフィルタリング、投稿統計を見たい

```
推奨: v3.3.3
理由:
  - GUI でチャンネル・状態・タイプを複合検索可能
  - 統計タブで投稿数・チャンネル別集計を可視化
  - v2 にはこの機能がない
```

---

### ユースケース 4：DB・テンプレート・設定を一括バックアップしたい

**想定**: データを安全に保管・移行したい

```
推奨: v3.3.3
理由:
  - バックアップ機能で ZIP 形式で一括エクスポート可能
  - テンプレート・設定も同時にバックアップ
  - v2.4.0 では Config Sync のみ（バックアップ機能は v3 占有）
```

---

### ユースケース 5：設定を GUI で管理したい

**想定**: `settings.env` ファイルを直接編集したくない

```
推奨: v3.3.3
理由:
  - Unified Settings Window で環境変数を GUI 管理可能
  - v2 では `settings.env` ファイルの手動編集が必須
```

---

## 📈 アップグレード・マイグレーション

### v2 → v2.4.0（予定）

**何が変わるか**:
- ✅ Config Sync 機能追加（設定ファイル自動同期）
- その他は v2.3.0 と同じ

**アップグレード難易度**: 🟢 低い（互換性を保つ）

**手順**:
1. v2.4.0 をダウンロード
2. 既存の `settings.env` はそのまま使用可能
3. 起動時に自動的に同期が実行される

---

### v2 → v3（推奨）

**何が変わるか**:
- ✅ YouTube Live が本実装される
- ✅ スケジュール投稿機能
- ✅ GUI 拡張（フィルタリング・統計タブ）
- ✅ バックアップ・復元機能
- ✅ 設定 GUI 管理

**アップグレード難易度**: 🟡 中程度（DB・テンプレートを移行）

**移行パス**:
```
ステップ 1: v3 の環境を別途セットアップ
  → v3 の venv、依存関係をインストール

ステップ 2: v2 の DB・テンプレート をエクスポート
  → v3 のバックアップ機能を使用（将来実装）
  → または v2 の data/ フォルダを直接コピー

ステップ 3: v3 で設定（settings.env）を調整
  → YouTube API キー設定
  → Bluesky API キー設定
  → その他のプラグイン設定

ステップ 4: v3 でテストランを実行
  → 既存データが正しく読み込まれるか確認
  → テンプレートが正しく機能するか確認

ステップ 5: v3 本番運用開始
  → v2 は不要になったら削除して OK
```

**留意点**:
- v2 と v3 を同時に動かすことも可能（DB を別々に管理）
- v3 への移行は段階的に進める方が安心
- データ移行時は必ずバックアップを取ること

---

## ✅ チェックリスト：バージョン選択前に確認

### v2 で継続する場合

- [ ] YouTube Live（ベータ版）の制限を理解している
- [ ] API クォータ管理ができる
- [ ] 設定ファイルの編集に慣れている
- [ ] シンプルな運用で満足できる

### v3 へ移行する場合

- [ ] DB・テンプレート・設定のバックアップを取った
- [ ] v3 の動作環境（Python 3.8+ など）を確認した
- [ ] YouTube API キーを取得済み（必要な場合）
- [ ] v3 の新しい設定項目を確認した

---

## 🆘 よくある質問（FAQ）

### Q1: 今 v2 を使っています。アップグレードは必須ですか？

**A**: いいえ、必須ではありません。
- v2.3.0 で YouTube RSS 監視のみなら、今のまま使い続けることも可能
- ただし、YouTube Live をよく使う場合は v3 へのアップグレードを推奨

---

### Q2: v2 と v3 を同時に動かせますか？

**A**: はい、可能です。
- DB ファイルを別々に管理すれば共存可能
- 移行期間中の試行錯誤に便利

---

### Q3: v2.4.0 の Config Sync だけ欲しいです

**A**: v2.4.0（予定）でリリース予定です。
- Config Sync のみで十分なら v2.4.0 へアップグレード
- その他の新機能は不要ならそのまま v2 で OK

---

### Q4: YouTube Live を使っている場合、v3 のどのバージョンが推奨ですか？

**A**: **v3.3.3 以上** を推奨します。
- v3.0.0 でも YouTube Live は利用可能
- ただし v3.3.0 以降のバージョンの方が安定している

---

### Q5: v2 から v3 へ移行する際、既存の投稿履歴は引き継がれますか？

**A**: はい、引き継がれます。
- DB ファイル（`video_list.db`）をコピーすれば OK
- 投稿状態・日時情報も保持される

---

### Q6: v2 は今後もサポートされますか？

**A**: 限定的にサポートされます。
- セキュリティバグ・クリティカルバグのみ対応
- 新機能追加は基本的に v3 優先

---

## 📞 判断に迷った場合

**以下のいずれかを確認すれば、ほぼ v3 を選ぶべき状況です:**

1. YouTube Live を使っている ✅ → v3
2. 複数動画の時間差投稿をしたい ✅ → v3
3. 設定を GUI で管理したい ✅ → v3
4. バックアップ機能が欲しい ✅ → v3

**いずれも当てはまらなければ v2 でも OK です。**

---

## 📚 関連ドキュメント

- [v2 vs v3 詳細比較](v2_vs_v3_comparison_and_migration_strategy.md)
- [v3 アーキテクチャと設計方針](../Technical/ARCHITECTURE_AND_DESIGN.md)
- [v2 GitHub ドキュメント](../../v2/docs/README_GITHUB_v2.md)
