# ä¿®æ­£: æ‹¡å¼µæ—¥æ™‚ç¯„å›²è¡¨ç¤ºãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æ­£ã—ãæ©Ÿèƒ½ã—ã¦ã„ãªã„å•é¡Œ

**å•é¡Œãƒ¬ãƒ™ãƒ«**: ğŸ”´ **é…ä¿¡äºˆå®šæ—¥æ™‚ã®è¡¨ç¤ºä¸å…·åˆ**
**ä¿®æ­£æ—¥**: 2025-12-24
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**:
- `yt_schedule_template.txt` (YouTube é…ä¿¡äºˆç´„)
- `yt_online_template.txt` (YouTube é…ä¿¡é–‹å§‹)
- `yt_offline_template.txt` (YouTube é…ä¿¡çµ‚äº†)
- `template_utils.py` (ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç™»éŒ²)

---

## ğŸ”´ å•é¡Œã®æœ¬è³ª

### ç—‡çŠ¶
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä»¥ä¸‹ã‚’è¨˜è¿°ã—ã¦ã‚‚ï¼š
```jinja2
{{ format_extended_datetime_range(published_at | datetimeformat('%Y-%m-%d'), 27) }}
```

æœŸå¾…ã•ã‚Œã‚‹çµæœï¼š
```
2025å¹´12æœˆ29æ—¥27æ™‚(2025å¹´12æœˆ30æ—¥(ç«)åˆå‰3æ™‚)
```

å®Ÿéš›ã®çµæœï¼š
```
é–‹å§‹æ—¥æ™‚: 2025-12-29 03:00 JST
```

### æ ¹æœ¬åŸå› 

| å•é¡Œ | è©³ç´° |
|:--|:--|
| **1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤ã„å½¢å¼ã®ã¾ã¾** | `yt_schedule_template.txt` ãªã©ãŒå¾“æ¥å½¢å¼ï¼ˆ`datetimeformat` ã®ã¿ï¼‰ã§ã€æ–°ã—ã„ `format_extended_datetime_range()` ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„ |
| **2. `int` ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒç™»éŒ²ã•ã‚Œã¦ã„ãªã„** | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ `published_at \| datetimeformat('%H') \| int` ã® `int` ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒåˆ©ç”¨ä¸å¯ |
| **3. ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ä¸è¶³** | Jinja2 Environment ã®è¨­å®šã§ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒé©ç”¨ã•ã‚Œã¦ã„ãªã„ |

---

## âœ… ä¿®æ­£å†…å®¹

### 1ï¸âƒ£ **yt_schedule_template.txt** - YouTube é…ä¿¡äºˆç´„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿®æ­£

**ä¿®æ­£å‰ï¼ˆå¤ã„å½¢å¼ï¼‰**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ published_at | datetimeformat('%Y-%m-%d %H:%M') }} JST
```

**ä¿®æ­£å¾Œï¼ˆæ‹¡å¼µæ—¥æ™‚è¡¨ç¤ºå¯¾å¿œï¼‰**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ format_extended_datetime_range(published_at | datetimeformat('%Y-%m-%d'), published_at | datetimeformat('%H') | int) }}
```

### 2ï¸âƒ£ **yt_online_template.txt** - YouTube é…ä¿¡é–‹å§‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿®æ­£

**ä¿®æ­£å‰**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ published_at | datetimeformat('%Yå¹´%mæœˆ%dæ—¥') }}
```

**ä¿®æ­£å¾Œ**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ format_extended_datetime_range(published_at | datetimeformat('%Y-%m-%d'), published_at | datetimeformat('%H') | int) }}
```

### 3ï¸âƒ£ **yt_offline_template.txt** - YouTube é…ä¿¡çµ‚äº†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿®æ­£

**ä¿®æ­£å‰**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ published_at | datetimeformat('%Yå¹´%mæœˆ%dæ—¥') }}
```

**ä¿®æ­£å¾Œ**:
```jinja2
é…ä¿¡æ—¥æ™‚: {{ format_extended_datetime_range(published_at | datetimeformat('%Y-%m-%d'), published_at | datetimeformat('%H') | int) }}
```

### 4ï¸âƒ£ **template_utils.py** - ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç™»éŒ²å¼·åŒ–

**è¿½åŠ å†…å®¹**ï¼ˆ900-905è¡Œç›®ä»˜è¿‘ï¼‰:
```python
# â˜… Jinja2 ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«è¿½åŠ 
context["int"] = int  # int ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨
context["str"] = str  # str ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨
context["float"] = float  # float ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ç”¨
```

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ `| int` ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

## ğŸ“ å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼ˆä¿®æ­£å¾Œï¼‰

```
1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ {{ published_at | datetimeformat('%H') | int }} ã‚’å®Ÿè¡Œ
   â†“
2. datetimeformat ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: "2025-12-29 18:00" â†’ "18" (æ–‡å­—åˆ—)
   â†“
3. int ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: "18" â†’ 18 (æ•´æ•°)
   â†“
4. format_extended_datetime_range(æ—¥ä»˜, 18) ã‚’å‘¼ã³å‡ºã—
   â†“
5. æ‹¡å¼µæ—¥æ™‚ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè¡Œ
   - base_date: "2025-12-29"
   - extended_hour: 18
   - 24æ™‚ä»¥ä¸‹ â†’ åŒæ—¥å†…
   â†“
6. å‡ºåŠ›: "2025å¹´12æœˆ29æ—¥18æ™‚(2025å¹´12æœˆ29æ—¥(æœˆ)åˆå¾Œ6æ™‚)"
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆä¾‹

### ãƒ†ã‚¹ãƒˆ1: 24æ™‚ä»¥ä¸‹ã®é…ä¿¡

**å…¥åŠ›**:
```
published_at: 2025-12-29 18:00:00
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ format_extended_datetime_range(published_at | datetimeformat('%Y-%m-%d'), published_at | datetimeformat('%H') | int) }}
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
```
é–‹å§‹æ—¥æ™‚: 2025å¹´12æœˆ29æ—¥18æ™‚(2025å¹´12æœˆ29æ—¥(æœˆ)åˆå¾Œ6æ™‚)
```

### ãƒ†ã‚¹ãƒˆ2: 24æ™‚ä»¥ä¸Šã®é…ä¿¡ï¼ˆç¿Œæ—¥ï¼‰

**å…¥åŠ›**:
```
published_at: 2025-12-29 03:00:00  (å®Ÿéš›ã¯ç¿Œæ—¥3æ™‚ â†’ 27æ™‚ã¨è¡¨è¨˜)
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**:
```jinja2
é–‹å§‹æ—¥æ™‚: {{ format_extended_datetime_range(published_at | datetimeformat('%Y-%m-%d'), 27) }}
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
```
é–‹å§‹æ—¥æ™‚: 2025å¹´12æœˆ29æ—¥27æ™‚(2025å¹´12æœˆ30æ—¥(ç«)åˆå‰3æ™‚)
```

---

## âœ… æ¤œè¨¼æ–¹æ³•

ä¿®æ­£ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã«ã¯ï¼š

### 1. ãƒ­ã‚°ã‚’ç¢ºèª
```
v3/logs/post.log ã§ä»¥ä¸‹ã‚’æ¤œç´¢:
âœ… ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æˆåŠŸ: youtube_schedule
```

### 2. æŠ•ç¨¿å†…å®¹ã‚’ç¢ºèª
Bluesky ã§ã®æŠ•ç¨¿ã§ã€é…ä¿¡äºˆå®šæ—¥æ™‚ãŒä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼š
```
é–‹å§‹æ—¥æ™‚: 2025å¹´12æœˆ29æ—¥27æ™‚(2025å¹´12æœˆ30æ—¥(ç«)åˆå‰3æ™‚)
```

ï¼ˆå¾“æ¥ã® `2025-12-29 03:00 JST` ã§ã¯ãªãï¼‰

### 3. ãƒã‚¹ãƒˆãƒ­ã‚°ã‚’ç¢ºèª
```
v3/logs/post.log ã§æŠ•ç¨¿å†…å®¹ã‚’ç¢ºèª:
æŠ•ç¨¿å†…å®¹:
ğŸ“º YouTube Live æ”¾é€äºˆå®šã®ãŠçŸ¥ã‚‰ã›ï¼
...
é–‹å§‹æ—¥æ™‚: 2025å¹´12æœˆ29æ—¥27æ™‚(2025å¹´12æœˆ30æ—¥(ç«)åˆå‰3æ™‚)
```

---

## ğŸ“Š å½±éŸ¿ç¯„å›²

| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ä¿®æ­£å†…å®¹ | å¯¾å¿œçŠ¶æ³ |
|:--|:--|:--|
| `yt_schedule_template.txt` | æ‹¡å¼µæ—¥æ™‚è¡¨ç¤ºã«å¯¾å¿œ | âœ… ä¿®æ­£å®Œäº† |
| `yt_online_template.txt` | æ‹¡å¼µæ—¥æ™‚è¡¨ç¤ºã«å¯¾å¿œ | âœ… ä¿®æ­£å®Œäº† |
| `yt_offline_template.txt` | æ‹¡å¼µæ—¥æ™‚è¡¨ç¤ºã«å¯¾å¿œ | âœ… ä¿®æ­£å®Œäº† |
| `yt_archive_template.txt` | ã™ã§ã«å¯¾å¿œæ¸ˆã¿ | âœ… æ—¢ã«å®Ÿè£… |
| `template_utils.py` | int ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¿½åŠ  | âœ… ä¿®æ­£å®Œäº† |

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•
2. âœ… YouTube Live é…ä¿¡äºˆç´„æ ã‚’æŠ•ç¨¿
3. âœ… Bluesky ã§ã®æŠ•ç¨¿å†…å®¹ã‚’ç¢ºèª
4. âœ… é…ä¿¡äºˆå®šæ—¥æ™‚ãŒæ‹¡å¼µæ—¥æ™‚è¡¨ç¤ºã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

**ä¿®æ­£è€…**: mayuneco(mayunya)
**ä¿®æ­£æ—¥æ™‚**: 2025-12-24
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Ÿè£…å®Œäº†ã€ãƒ†ã‚¹ãƒˆå¾…æ©Ÿ
