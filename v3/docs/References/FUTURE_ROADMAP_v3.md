# Streamnotify on Bluesky - 将来実装機能ロードマップ

> **対象バージョン**: v3.3.0 時点（2026年1月3日）
> **最終更新**: 2026-01-03
> **重要**: 本ドキュメントは **v3.1.0 以降、「ローカル完結・シンプル設計」を貫く方針** を明確にしたものです

本ドキュメントは、**v3 の現在の実装設計**と**最初の構想ドキュメント**（`YouTube新着動画app（初期構想案）`）の   \
差異を整理し、将来実装すべき機能をロードマップとしてまとめたものです。

> **参考**
> - 現在の実装: [ARCHITECTURE_AND_DESIGN.md](../Technical/ARCHITECTURE_AND_DESIGN.md) 参照
> - テンプレートシステム: [TEMPLATE_SYSTEM.md](../Technical/TEMPLATE_SYSTEM.md) 参照
> - プラグインシステム: [PLUGIN_SYSTEM.md](../Technical/PLUGIN_SYSTEM.md) 参照
> - 初期構想: [YouTube新着動画app（初期構想案）](./INITIAL_CONCEPT.md) 参照
>
> **実装ステータス**: v3.3.0（2026-01-03）時点で以下が実装完了：
> - ✅ マルチテンプレート対応（YouTube Live/Archive/新着、Niconico新着）
> - ✅ **4条件の複合フィルタリング**（タイトル、配信元、投稿状態、コンテンツタイプ）- v3.3.0 完了
> - ✅ YouTube優先度ベースの重複排除
> - ✅ AssetManager による自動テンプレート配置
> - ✅ テンプレートフォールバック機能
> - ✅ バックアップ・復元機能（ZIP形式、API キー除外オプション対応）- v3.2.0 完了
> - ✅ **重複投稿防止オプション**（`PREVENT_DUPLICATE_POSTS` 設定）- v3.3.0 完了
> - ✅ **Jinja2 テンプレート処理**（動的変数、条件分岐）- v3.1.0-3.2.0 完了

***

## 0. 設計思想とリアルタイム性についての原則

### 本アプリケーションの設計思想

**Streamnotify on Bluesky は、以下の原則に基づいて設計されています**：

- ✅ **ローカル完結**: ユーザーの環境のみで動作、追加インフラ不要
- ✅ **シンプル設定**: 難しい設定を不要、`.env` ファイルのみ
- ✅ **無料・保守容易**: ユーザーに金銭的負担・運用負荷をかけない
- ✅ **統一方式**: ポーリング方式 で全プラットフォーム・全サービスに統一

### リアルタイム性についての現実的な判断

#### なぜ「完全リアルタイム」がクライアント単体では不可能か

| プラットフォーム | 方式 | 遅延 | インフラ | 複雑度 |
|:--|:--|:--:|:--:|:--:|
| **YouTube** | RSS ポーリング | 3-5分 | 不要 ✅ | 低 |
| **YouTube (PubSubHubbub)** | プッシュ通知 | 秒単位 | 提供あり ✅ | 中 |
| **Niconico** | RSS ポーリング | 3-5分 | 不要 ✅高 |
| **Twitch (EventSub)** | Webhook | 秒単位 | 必須 ❌ | 高 |
| **Twitch (API ポーリング)** | API ポーリング | 3-5分 | 不要 ✅ | 低 |

**結論**: Twitch も **API ポーリング方式** で統一実装 → すべてクライアント単体で完結

#### 💡 本設計を貫く理由

```
「完全リアルタイム（秒単位）」を求める場合
  ↓
Webhook / EventSub 必須
  ↓
インフラ（VPS ¥300-1000/月）が必須
  ↓
ユーザーに複雑な設定を強要
  ↓
本来の設計思想「ローカル完結・シンプル」が破壊される

vs.

「実用的なリアルタイム性（3-5分）」で十分
  ↓
ポーリング方式で全て統一
  ↓
クライアント単体で完結
  ↓
ユーザー設定：API キーのみ
  ↓
保守性・シンプル性を守り抜く
```

### リアルタイム性が必須な場合のユーザー側オプション

将来、「秒単位のリアルタイム通知が必須」というユースケースが出た場合、
ユーザーが**自力で**以下を構築することは可能です：

- 公式 WebSub / Twitch EventSub サーバーの構築
- 当アプリとの連携インターフェース設計
- （詳細は別ドキュメント参照：[CENTER_SERVER_INTEGRATION_SPEC.md](./CENTER_SERVER_INTEGRATION_SPEC.md)）

**ただし、これは本アプリのコア機能ではなく、応用編です。**

- ごく限られたユーザー向けではありますが、WebSub センターサーバーを提供しています。
必要があればお問い合わせください。

- 本アプリ本体はあくまで「ローカル完結・シンプル設計」を貫きますが、
  将来、こちらのセンターサーバーがTwitch EventSub に対応する可能性はあります。

---

## 1. 対応サービスの拡張

### v3 での実装
- (該当する実装なし)

### 将来実装（TwitchAPI連携プラグイン）

| サービス | 機能 | 優先度 | 実装方式 |
|---------|------|--------|---------|
| **Twitch** | 配信開始・終了検知 | 高 | TwitchAPI連携プラグイン（API または センターサーバー方式） |

### 実装上の課題
- Twitch: 配信開始・終了の精度（RSS では検出困難）→ API 推奨
- YouTube 動画: API レート制限回避 → RSS+DBの利用でAPI消費を最小限に抑える設計が必須
- YouTube Live: API レート制限回避 → PubSubHubbub 優先設計

***

## 2. データ取得方式の拡張

### v3 での実装

#### YouTube RSS - 2つのフィード取得モード対応
- **Poll モード（従来方式）**: RSS ポーリング
  - 遅延: 3-5分
  - ポーリング間隔: 設定可能（最小10分、最大60分、デフォルト10分）
  - インフラ: 不要（ユーザーの環境のみで完結）
  - 複雑度: 低

- **WebSub モード（新方式、v3.2.0+）**: WebSub/プッシュ通知
  - 遅延: 数十秒～数分（ポーリング短縮で改善可能）
  - ポーリング間隔: 短縮可能（最小3分、最大30分、デフォルト5分）
  - インフラ: **提供あり** ✅（センターサーバー方式で対応）
  - 複雑度: 中（設定: Webhook コールバック URL、API キー）
  - メリット: リアルタイム性向上、API 負荷低減

#### WebSub 対応の詳細（v3.2.0+）
- **モード選択**: `YOUTUBE_FEED_MODE` で poll/websub を選択可能
- **WebSub クライアント設定**:
  - `WEBSUB_CLIENT_ID`: クライアント識別用 ID
  - `WEBSUB_CALLBACK_URL`: Webhook コールバック URL
  - `WEBSUB_CLIENT_API_KEY`: API キー
  - `WEBSUB_SERVER_PORT`: ローカル Webhook サーバーポート（デフォルト: 8765）
  - `WEBSUB_LEASE_SECONDS`: 購読期間（デフォルト: 432000秒 = 5日）
- **使い分け**:
  - リアルタイム性重視 → WebSub モード
  - シンプル設定重視 → Poll モード（RSS）

### v2.3.0 で実装済み

#### ニコニコ動画 - ユーザー名自動取得機能
- **概要**: ニコニコ RSS フィードから取得できないユーザー名を複数の方式で自動取得
- **優先順位**:
  1. RSS フィード（`<dc:creator>`）
  2. ニコニコ静画 API（`http://seiga.nicovideo.jp/api/user/info`）
  3. ユーザーページの og:title（Web スクレイピング）
  4. 環境変数 `NICONICO_USER_NAME`
  5. ユーザーID（最終フォールバック）
- **自動保存**: 取得されたユーザー名は `settings.env` に自動保存（2回目以降は API 呼び出し不要）
- **キャッシング**: プラグインインスタンス単位でのメモリキャッシング
- **メリット**: ユーザーによる手動設定が不要、API 呼び出しの最小化、多環境での動作対応

### 将来実装

#### Twitch API の導入
- **Twitch**: 配信状態、視聴者数、ゲームタイトル取得
- **優先度**: 高

#### PubSubHubbub サポート拡張（トンネル連携プラグイン）
- **概要**: RSS の更新を RSS フィード発行元から**プッシュ通知**で受け取る
- **メリット**: リアルタイム検知の精度向上、ポーリング不要、API 負荷低減
- **対応サービス**: YouTube（既部分実装）、Niconico（今後）、一部ブログプラットフォーム
- **実装方式**: Cloudflare Tunnel / ngrok などのトンネルサービスとの連携

***

## 3. 通知先の拡張

### v3 での実装
- **Bluesky のみ** (atproto ライブラリ)

### 将来実装

#### Discord 連携（動画投稿通知機能拡張プラグイン）
- **実装方式**: Webhook または Bot アカウント
- **機能**:
  - チャンネルへの自動投稿
  - 埋め込みメッセージ（Rich Embed）対応
  - ロール メンション、@everyone 対応（オプション）
- **テンプレート**: サービス別・イベント別に独立した投稿テンプレート

#### その他通知先（将来検討）
- Mastodon/misskey（ActivityPub 対応）

***

## 4. 投稿機能の拡張

- **重複投稿防止オプション**: `PREVENT_DUPLICATE_POSTS` 設定で同じ動画の再投稿を禁止
  - 誤った再投稿の防止、ユーザー体験向上

- **投稿テンプレートの動的変数追加**: `{{ random_emoji }}`、`{{ time_of_day }}` など
  - 投稿テンプレートの表現力向上、投稿の多様性確保
  - 実装例: `{{ current_date }}`、`{{ current_time }}`、`{{ day_of_week }}`

### v3 での実装（予定）
- **テンプレート処理**: Jinja2 形式（Twitch追加対応）
- **テンプレート種別**: 3 種類 追加
  - Twitch 配信開始通知
  - Twitch 配信終了通知
  - Twitch Raidテンプレート

#### テンプレート対応プラットフォーム（Live/Archive）

| プラットフォーム | ステータス | 実装日 | 備考 |
|:--|:--|:--|:--|
| **YouTube Live** | ✅ 実装済み | 2025-12-18 | youtube_online テンプレートなど3種 |
| **YouTube Archive** | ✅ 実装済み | 2025-12-19 | youtube_archive テンプレート（新規） |
| **YouTube 新着動画** | ✅ 実装済み | 2025-12-17 | youtube_new_video テンプレート |
| **Niconico 新着動画** | ✅ 実装済み | 2025-12-18 | nico_new_video テンプレート |
| **Twitch** | 🔜 実装予定 | 2026年以降 | TwitchAPI連携プラグイン準備中 |

### プラグインで実装済み（Bluesky 機能拡張プラグイン）

#### マルチテンプレート対応（追加予定）
- **テンプレート別分類**:
  - Twitch: 配信開始、配信終了
- **サービス・イベント別の自動選択**:
  - イベント種別を自動判定し、該当テンプレートを適用(Twitch追加予定)

#### 画像添付機能の拡張
- **概要**: 配信プレビュー画像の自動ダウンロードと添付
- **対応サービス**: Twitch（配信プレビュー画像）
- **ファイル形式**: JPEG、PNG
- **サイズ制限**: 通知先ごとに最適化

#### リッチテキスト対応
- **Discord**: Rich Embed（色付きメッセージ、フィールド）
- **テンプレート側での制御**: 通知先ごとにマークアップ形式を自動変換

#### 投稿機能の追加拡張（v3.x以降に繰り下げ）
- **一括投稿スケジュール機能**: 複数動画を選択して分散投稿（15分ごと等）
  - メリット: Bluesky API ユーザーレート制限対策、スパム防止
  - 実装: GUI にスケジュール設定ダイアログを追加
  - **実装予定**: v3.4.0+

***

## 5. インターフェースの拡張

### v3 での実装（v3.1.0-v3.3.0 で完了）
- **CLI**: `python main_v3.py` で起動
- **フル機能版 GUI**（Tkinter）:
  - v2 の全ての機能 + 以下の新機能を実装済み

### v3 での実装（v3.1.0 で完了）
- **✅ 投稿テンプレート動的変数**
  - `{{ current_date }}`、`{{ current_time }}`、`{{ day_of_week }}` など
  - Jinja2 テンプレート形式による動的レンダリング

- **✅ GUI機能拡張**
  - 統計詳細表示（投稿数、未投稿数、配信元別集計）
  - RSS手動更新トリガー（「RSS更新/新着取得」ボタン）

### v3 での実装（v3.2.0 で完了）
- **✅ バックアップ・復元機能**
  - ZIP形式でのDB・テンプレート・設定の一括エクスポート/インポート
  - API キー・パスワードの安全な除外オプション
  - 復元時の自動バックアップ（既存ファイル保護）
  - 画像フォルダのオプション包含

- **✅ テンプレート機能拡張**
  - サービス別・イベント別の自動選択（classification_type による判定）
  - フォールバック機能（テンプレート未設定時の自動フォールバック）
  - 複数フィルター対応（動画ソース、動画タイプ毎）

- **✅ フィルタ条件の保存機能**
  - フィルタプロファイルの作成・管理
  - 複数プロファイルの保存・切り替え機能
  - デフォルトプロファイルの自動適用

### v3 での実装（v3.3.0 で完了）
- **✅ 4条件の複合フィルタリング**
  - タイトル検索 + 投稿状態 + 配信元 + コンテンツタイプ
  - 7種類のコンテンツタイプ分類（動画/アーカイブ/放送予約/放送中/放送終了/プレミア）
  - リアルタイムフィルタリング、AND条件で結合
  - フィルタ件数をステータスバーで表示
  - 🔄 リセットボタンで一括クリア

- **✅ 重複投稿防止オプション**
  - `PREVENT_DUPLICATE_POSTS` 設定で同じ動画の再投稿を禁止
  - 投稿前の自動チェック
  - 重複検知時は警告メッセージを表示して投稿中止
  - ユーザーの誤操作防止、安全な運用を実現

### v4以降で実装する機能

#### Web UI（FastAPI + Jinja2）(v4以降)
- **設定管理**:
  - サービス別の監視設定（チャンネル ID、ユーザー名、API キーなど）
  - 通知先設定（Bluesky、Discord）
  - ポーリング間隔、ログレベルなどの詳細設定
- **ダッシュボード**:
  - 直近の動画検知履歴（タイムライン表示）
  - 投稿成功/失敗状況
  - API 使用量の可視化
- **手動操作**:
  - 特定動画の強制投稿
  - 投稿済み状態の手動リセット
  - テンプレートのプレビュー・編集

#### Windows クライアント アプリケーション(v4以降)
- **技術スタック**: PyQt または Tkinter
- **機能**: Web UI と同等の機能を提供
- **メリット**: スタンドアロンで実行可能、常駐化が容易
- **設定GUIの追加**:　動画キャッシュの一括更新機能の追加　

#### ダークモード対応
- **対応範囲**: Web UI、Windows クライアント
- **テーマ切り替え**: UI 設定から選択可能

#### トンネル連携（トンネル連携プラグイン）
- **PubSubHubbub/Twitch 用トンネル**:
  - Cloudflare Tunnel（推奨、無料）
  - ngrok（有料オプション）
  - localtunnel（シンプル）
- **自動セットアップ**: トンネル URL の自動生成・登録

***

## 6. デプロイ・運用の拡張

### v3 での実装
- **実行方式**: CLI での手動起動
- **常駐化**: 別途 Windows タスクスケジューラ / systemd 対応が必要

***

## 7. 実装スケジュール

### 2026年1月以降に実装予定の機能

- **一括投稿スケジュール機能の最小版**
  - 複数動画を選択して分散投稿（15分ごと等）
  - メリット: Bluesky API ユーザーレート制限対策、スパム防止
  - **実装予定**: v4.0.0+

- **Twitch API 連携プラグイン全体**
  - 配信開始・終了検知、視聴者数、ゲームタイトル取得
  - **優先度**: 高
  - **実装予定**: v4.1.0+

- **Web UI の実装**
  - FastAPI + Jinja2 による設定管理、ダッシュボード、手動操作機能
  - **メリット**: ユーザーがブラウザから簡単に操作可能
  - **実装予定**: v4.3.0+

***

## 8. ロギング・監視の拡張

### v3 での実装
- **基本的なログ出力**: コンソール、ファイル（`logs/app.log`）
- **ログレベル**: INFO(デバッグモードOFF)、DEBUG(デバッグモードON)
- **最大ログサイズ**: 10MB
- **バックアップ数**: 5 世代

#### ログ設定拡張プラグインで対応する機能
- **ログレベルの細分化**:ロガー単位でのログレベル設定
- **指定可能な値**: DEBUG, INFO, WARNING, ERROR, CRITICAL
- **ログフォーマットのカスタマイズ**: 出力先の選択
- **ログの保存期間設定**: 14日分

### 将来実装(v4以降)
#### 監視・アラート機能
- **Sentry 連携**: エラーの自動レポート
- **Discord への通知**: 重大エラー発生時の即座の通知

#### メトリクス収集
- **Prometheus 互換メトリクス**: 投稿数、API レスポンス時間など
- **Grafana ダッシュボード**: リアルタイム可視化

***

## 9. セキュリティ強化

### v3 での実装
- **認証情報の管理**: `settings.env` ファイル（Git 管理外）
- **基本的なバリデーション**: 設定値のチェック

### 将来実装

#### 認証情報の暗号化
- **暗号化方式**: AES-256
- **鍵管理**: マスターパスワード方式 または ハードウェア セキュリティ キー対応

#### アクセス制御（Web UI）
- **ユーザー認証**: パスワード、OAuth2
- **ロールベースアクセス制御（RBAC）**: 管理者、オペレータ、閲覧者

#### API キーの安全な取得
- **初期セットアップウィザード**: ユーザーに対話形式で API キー取得をガイド
- **トークンの自動更新**: 期限切れトークンの自動更新

***

## 10. 実装フェーズと優先度

### Phase 1（v1）
- [✅] **YouTube新着動画投稿**: RSS 方式での新着動画検知・投稿
- [✅] **基本的なCLIインターフェース**: 動作モード選択、ログ出力
- [✅] **SQLiteデータベース**: 動画管理、投稿履歴 保存
- [✅] **Bluesky投稿機能**: atproto ライブラリを使用した投稿機能
- [✅] **GUI**	: 最小限機能のみを実装済み（動画一覧表示、投稿実行）
- [✅] **ロギング設定**: appとerror ログのみ（RotatingFileHandler）
- [✅] **バージョン管理**: app_version.py（v0.1.0）

### Phase 2（v2 - v2.3.0 で完了予定）
- [✅] **YouTubeAPI連携プラグイン**: 複数チャンネル対応、詳細情報取得
- [✅] **Bluesky 機能拡張プラグイン**: 画像添付、投稿テンプレート拡張
- [✅] **ニコニコ動画プラグイン**: RSS フィード監視、投稿対応
- [✅] **RSS ポーリング方式での動画検知**: 定期的なフィードチェック
- [✅] **ユーザー名自動取得・自動保存機能**（v2.3.0実装完了）
- [✅] **ログ設定拡張プラグイン**: 詳細ログ設定
- [✅] **GUI 動画削除機能**: DB からの完全削除（ツールバー・右クリックメニュー対応）
- [✅] **YouTubeLiveプラグイン完成**: ライブ開始/終了自動検知、テンプレート自動適用（v2.3.0で完成）
- [✅] **Asset マネージャー統合**: プラグイン導入時にテンプレート・画像を自動配置（v2.3.0で実装）
- [✅] **テンプレートシステム（Jinja2）**: サービス別・イベント別のテンプレート対応（v2.3.0で実装）
- [✅] **Rich Text Facet**: URL・ハッシュタグのリンク化機能（v2.3.0で実装）
- [✅] **削除済み動画キャッシュ**: 削除動画の追跡・除外リスト管理（v2.3.0で実装）
- [✅] **画像処理パイプライン**: サムネイル自動取得・リサイズ・最適化・キャッシング（v2.3.0で実装）

### Phase 3（v3 で実装完了した機能）
- [✅] **GUIフィルタ・検索機能**: タイトル検索、投稿状態フィルタ、配信元フィルタ、種類フィルタ（2025-12-19 実装）
- [✅] **重複投稿防止オプション**: `PREVENT_DUPLICATE_POSTS` 設定で同じ動画の再投稿を禁止（2025-12-19 実装）
- [✅] **投稿テンプレート動的変数**: `{{ current_date }}`, `{{ random_emoji }}` など（v3.1.0で実装完了）
- [✅] **GUI機能拡張**: 統計詳細表示、RSS手動更新トリガー（v3.1.0で実装完了）

### Phase 3.1（v3.2.0 で実装完了）
- [✅] **バックアップ・復元機能**（v3.2.0で実装完了）
  - ZIP形式でのDB・テンプレート・設定の一括エクスポート/インポート
  - API キー・パスワードの安全な除外オプション（YouTube/Niconico/Twitch ID含む）
  - 復元時の自動バックアップ（データ保護）
  - 画像フォルダのオプション包含
- [✅] **テンプレート条件分岐の拡張**: category別など複雑な条件分岐対応
  - サービス別・イベント別の自動選択（classification_type による判定）
  - フォールバック機能（テンプレート未設定時の自動フォールバック）
  - 複数フィルター対応（動画ソース、動画タイプ毎）
- [✅] **フィルタ条件の保存機能**: GUI で設定したフィルタをプロファイル保存
  - フィルタプロファイルの作成・管理
  - 複数プロファイルの保存・切り替え機能
  - デフォルトプロファイルの自動適用

### Phase 3.2（v3.2.0-v3.3.0 で実装完了）
- [✅] **WebSub/PubSubHubbub サポート**（v3.2.0 で実装完了）
  - **2つの取得モード**:
    - **Poll モード**: RSS ポーリング（従来方式、3-5分遅延）
    - **WebSub モード**: プッシュ通知方式（リアルタイム、ポーリング短縮化可能）
  - **モード選択**: `YOUTUBE_FEED_MODE` で poll/websub を選択
  - **WebSub 設定パラメータ**:
    - `WEBSUB_CLIENT_ID`: クライアント識別ID
    - `WEBSUB_CALLBACK_URL`: Webhook コールバック URL
    - `WEBSUB_CLIENT_API_KEY`: API キー
    - `WEBSUB_SERVER_PORT`: ローカル Webhook サーバーポート（デフォルト: 8765）
    - `WEBSUB_LEASE_SECONDS`: 購読期間（デフォルト: 432000秒 = 5日）
  - **利用可能**: YouTube フィード対応、センターサーバー方式で複数ユーザーに提供中
  - 実装完了: 2025-12-19

- [✅] **4条件の複合フィルタリング**: タイトル + 投稿状態 + 配信元 + コンテンツタイプ
  - タイトル検索フィルタ（リアルタイム、部分一致、大文字小文字区別なし）
  - 投稿状態フィルタ（全て/投稿済み/未投稿）
  - 配信元フィルタ（全て/YouTube/Niconico）
  - **コンテンツタイプフィルタ** - 7種類（動画/アーカイブ/放送予約/放送中/放送終了/プレミア）
  - 4つの条件を AND で結合
  - フィルタリング後の件数をステータスバーで表示
  - 実装完了: 2025-12-19

- [✅] **重複投稿防止オプション**（v3.3.0 で実装完了）
  - `PREVENT_DUPLICATE_POSTS` 設定による制御（デフォルト: false）
  - 投稿前に自動チェック
  - 重複検知時は警告メッセージを表示して投稿中止
  - ログに警告マーク（🛑）で記録
  - 本投稿時のみ実行、ドライラン時は実行しない
  - 実装完了: 2025-12-19

- [ ] **一括投稿スケジュール機能**: 複数動画の分散投稿（15分間隔など）
  - 複数動画の一括選択
  - スケジュール間隔の設定（5分～60分）
  - スケジュール確認・編集・キャンセル機能
  - Bluesky API レート制限対策
  - **実装予定**: v3.4.0+

### Phase 4（v4以降）
- [ ] **PubSubHubbub 連携プラグイン拡張**: トンネルサービス（Cloudflare Tunnel など）との統合
- [ ] **TwitchAPI連携プラグイン**: Twitch 対応
- [ ] **トンネル通信プラグイン**: トンネルサービス連携
- [ ] **Webhook**: Twitch EventSubの実装・統合

### Phase 5（v5以降）
- [ ] **Web UI**: 基本的な設定管理画面
- [ ] **通知先制御機能**: 動画投稿通知機能拡張プラグインの実装
- [ ] **補助機能プラグイン**: Windowsクライアントアプリケーション、ダークモード/テーマ切替
- [ ] **監視・アラート機能**: Sentry/Prometheus連携、エラー通知
- [ ] **プラグインのホットリロード・動的有効化/無効化**

### Phase 6（v6以降）
- [ ] Mastodon/Bluesky 他 ActivityPub サービス対応（複数通知先への統一実装）


***

## 11. 参考資料・検討事項

### 技術参考
- [YouTube Data API v3](https://developers.google.com/youtube/v3)
- [PubSubHubbub 仕様](https://pubsubhubbub.appspot.com/)
- [Twitch API ドキュメント](https://dev.twitch.tv/docs/api)
- [Discord Webhook ガイド](https://discord.com/developers/docs/resources/webhook)
- [LINE Messaging API](https://developers.line.biz/en/services/messaging-api/)

### 検討が必要な項目
1. **API レート制限**: YouTube Data API 10,000 ユニット/日 の制約下での効率的な実装
2. **トンネルセキュリティ**: PubSubHubbub 導入時の HTTPS 化、署名検証
4. **オフラインキャッシング**: トンネル障害時の動作保証

## Asset管理と拡張時のファイル追加

- 全サービス・プラグイン用テンプレート/画像は `Asset/` ディレクトリに保管
- プラグイン導入時に必要なファイルのみ本番ディレクトリに自動コピー
- 追加済みファイルはプラグイン削除後も残る
- 将来拡張時は Asset に新規テンプレート/画像を追加し、導入時に自動コピー

---

**作成日**: 2025-12-23
**最後の修正**: 2026-01-03
**ステータス**: ✅ v3.3.0 完了状況を反映済み

---

## 更新履歴

### v3.3.0 完了（2026-01-03）
- ✅ WebSub/PubSubHubbub サポート（v3.2.0から継続）
  - Poll モード（RSS ポーリング）と WebSub モード（プッシュ通知）の2方式に対応
  - YOUTUBE_FEED_MODE で切り替え可能
  - センターサーバー方式で複数ユーザーに提供中
- ✅ 4条件の複合フィルタリング実装完了
- ✅ 重複投稿防止オプション実装完了
- ✅ Jinja2 テンプレート処理完全実装
- ✅ YouTube/Niconico RSS+API の統合監視
- ✅ リアルタイムフィルタリング・GUI統計表示
- ✅ バックアップ・復元機能（ZIP形式）
- ✅ YouTube動画の優先度ベースの重複排除

### v3.2.0 完了（2025-12-19）
- WebSub/PubSubHubbub 基本実装
  - YOUTUBE_FEED_MODE = websub 選択可能
  - WebSub クライアント設定（コールバック URL、API キー）
  - ローカル Webhook サーバーポート（デフォルト: 8765）
- テンプレート条件分岐の拡張
- フィルタ条件の保存機能
- バックアップ・復元機能

### v3.1.0 完了（2025-12-18）
- マルチテンプレート対応
- 投稿テンプレート動的変数
- GUI機能拡張
- 将来拡張時は Asset に新規テンプレート/画像を追加し、導入時に自動コピー
